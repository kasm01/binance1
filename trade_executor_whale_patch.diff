diff --git a/core/trade_executor.py b/core/trade_executor.py
index 0000000..0000000 100644
--- a/core/trade_executor.py
+++ b/core/trade_executor.py
@@ -237,23 +237,34 @@ class TradeExecutor:
         """
         Basit notional hesaplama:
           - base_order_notional
-          - whale / model_conf vs. ile çarpılabilir
+          - whale / model_conf vs. ile çarpılabilir
           - max_position_notional'a clamp edilir
         """
 
         notional = self.base_order_notional
 
         # Model güven faktörü
         model_conf = float(extra.get("model_confidence_factor", 1.0) or 1.0)
         notional *= model_conf
 
-        # Whale bilgisi (varsayılan: yok)
-        whale_info = extra.get("whale") or {}
-        whale_score = float(whale_info.get("score", 0.0) or 0.0)
-        whale_direction = whale_info.get("direction")  # "buy" / "sell"
-
-        # Eğer whale_score yüksekse ve sinyal ile aynı yöndeyse notional'ı boost et
-        if whale_score > 0 and whale_direction:
-            if (signal == "long" and whale_direction == "buy") or (
-                signal == "short" and whale_direction == "sell"
-            ):
-                notional *= (1.0 + self.whale_risk_boost * whale_score)
+        # Whale bilgisi (varsayılan: yok)
+        # main.py içinde extra["whale_meta"] şöyle dolduruluyor:
+        # {
+        #   "direction": "long" / "short" / "none",
+        #   "score": float,
+        #   ...
+        # }
+        # Eski kodla geri uyumluluk için extra["whale"] da fallback olarak okunuyor.
+        whale_info = extra.get("whale_meta") or extra.get("whale") or {}
+        whale_score = float(whale_info.get("score", 0.0) or 0.0)
+        whale_direction = whale_info.get("direction")  # "long" / "short" / "none"
+
+        # Eğer whale_score yüksekse ve sinyal ile aynı yöndeyse notional'ı boost et
+        if whale_score > 0 and whale_direction in ("long", "short"):
+            if signal == whale_direction:
+                notional *= (1.0 + self.whale_risk_boost * whale_score)
 
         # max_position_notional sınırı
         if notional > self.max_position_notional:
