symbol,side,qty,entry_price,notional,interval,opened_at,sl_price,tp_price,trailing_pct,atr_value,highest_price,lowest_price,meta,closed_at,close_price,realized_pnl,close_reason,bt_symbol,bt_interval,bt_bar,bt_time,bt_signal,bt_price,bt_p_used,bt_p_single,bt_p_1m,bt_p_5m,bt_p_15m,bt_p_1h,whale_dir,whale_score,whale_on,whale_alignment,whale_thr,model_confidence_factor,bt_atr
BTCUSDT,long,0.0005414924550065797,92337.39,50.0,5m,2025-12-13T20:47:41.649249,91968.62785714286,93074.91428571429,0.01,245.84142857142848,93006.69,92337.39,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305805775282, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.7875426800803434, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 245.84142857142848}}",2025-12-13T20:48:36.414534,93173.55,0.45277433117830357,TP_HIT,BTCUSDT,5m,217,217,hold,93173.55,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.5282693672854198,True,opposed,0.5,0.3,242.31357142857243
BTCUSDT,long,0.0005369487885092959,93118.75,50.0,5m,2025-12-13T20:49:11.680011,92770.39428571428,93815.46142857143,0.01,232.2371428571444,93121.27,93118.75,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.544550895690918, 'p_hybrid_mean': 0.7267305809921691, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 232.2371428571444}}",2025-12-13T20:49:26.900759,92529.68,-0.3163004228471747,SL_HIT,BTCUSDT,5m,227,227,long,92529.68,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,241.35500000000215
BTCUSDT,long,0.0005403671557061476,92529.68,50.0,5m,2025-12-13T20:49:26.901427,92167.64749999999,93253.745,0.01,241.35500000000215,93220.84,92529.68,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807063458, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 241.35500000000215}}",2025-12-13T20:52:12.688106,93276.2,0.4033948890777555,TP_HIT,BTCUSDT,5m,258,258,hold,93276.2,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.9001274668301188,True,opposed,0.5,0.3,168.59785714285889
BTCUSDT,long,0.0005354086056439349,93386.62,50.0,5m,2025-12-13T20:52:18.432161,93134.09928571428,93891.66142857143,0.01,168.34714285714497,93828.0,93386.62,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807425428, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.6070879332555551, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 168.34714285714497}}",2025-12-13T20:54:02.683891,94033.69,0.3464468464540247,TP_HIT,BTCUSDT,5m,278,278,hold,94033.69,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,251.14642857142877
BTCUSDT,long,0.0005336645184179365,93691.82,50.0,5m,2025-12-13T20:56:27.047418,93342.42821428573,94390.60357142858,0.01,232.92785714285648,93691.82,93691.82,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807063456, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.8608510785407096, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 232.92785714285648}}",2025-12-13T20:56:32.518961,93283.24,-0.21804464893520142,SL_HIT,BTCUSDT,5m,304,304,hold,93283.24,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,260.1871428571415
BTCUSDT,long,0.0005350241237027137,93453.73,50.0,5m,2025-12-13T20:56:49.994123,93084.33357142856,94192.52285714285,0.01,246.26428571428445,94012.75,93453.73,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305806859748, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933958947658539}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.8221161312979306, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 246.26428571428445}}",2025-12-13T21:01:36.684229,93031.34,-0.22598883961078892,SL_HIT,BTCUSDT,5m,352,352,hold,93031.34,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,132.538571428572
BTCUSDT,long,0.0005372972978781593,93058.35,50.0,5m,2025-12-13T21:02:03.916735,92849.02071428573,93477.00857142857,0.01,139.55285714285543,93397.67,93058.35,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808074002, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933960437774658}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.7104271311653708, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 139.55285714285543}}",2025-12-13T21:05:14.655114,93581.21,0.28093126516857464,TP_HIT,BTCUSDT,5m,385,385,hold,93581.21,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,121.47714285714339
