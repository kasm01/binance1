symbol,side,qty,entry_price,notional,interval,opened_at,sl_price,tp_price,trailing_pct,atr_value,highest_price,lowest_price,meta,closed_at,close_price,realized_pnl,close_reason,bt_symbol,bt_interval,bt_bar,bt_time,bt_signal,bt_price,bt_p_used,bt_p_single,bt_p_1m,bt_p_5m,bt_p_15m,bt_p_1h,whale_dir,whale_score,whale_on,whale_alignment,whale_thr,model_confidence_factor,bt_atr
BTCUSDT,long,0.0005486153278294781,91138.54,50.0,5m,2025-12-15T19:49:04.116163,90958.9332142857,91497.75357142856,0.01,119.73785714285727,91482.28,91138.54,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305806205049, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 119.73785714285727}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:49:22.212107,91501.4,0.19907055785620476,TP_HIT,BTCUSDT,5m,223,223,long,91501.4,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,93.76571428571437
BTCUSDT,long,0.0005464397266052761,91501.4,50.0,5m,2025-12-15T19:49:22.212671,91360.75142857143,91782.69714285714,0.01,93.76571428571437,91682.4,91501.4,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807343554, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 93.76571428571437}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:49:34.937407,91329.6,-0.09387834503078007,SL_HIT,BTCUSDT,5m,237,237,long,91329.6,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,96.01071428571491
BTCUSDT,long,0.0005474676337134948,91329.6,50.0,5m,2025-12-15T19:49:34.937929,91185.58392857143,91617.63214285715,0.01,96.01071428571491,91498.38,91329.6,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445508360862732, 'p_hybrid_mean': 0.7267305806404406, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623062133789, 'p_short_mean': 0.09933958947658539}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 96.01071428571491}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:49:48.499133,91147.17,-0.099874520418357,SL_HIT,BTCUSDT,5m,252,252,long,91147.17,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,103.46428571428467
BTCUSDT,long,0.00010971267676220775,91147.17,10.0,5m,2025-12-15T19:49:48.499832,90991.97357142858,91457.56285714285,0.01,103.46428571428467,91147.17,91147.17,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305805513512, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623062133789, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 103.46428571428467}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T19:49:50.304712,90958.03,-0.02075105568280391,SL_HIT,BTCUSDT,5m,254,254,long,90958.03,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,short,0.6299485273145581,True,opposed,0.5,0.3,104.52642857142824
BTCUSDT,long,0.0001772393079513869,90958.03,16.121338289821487,5m,2025-12-15T19:49:50.305246,90801.24035714286,91271.60928571428,0.01,104.52642857142824,91192.08,90958.03,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(32, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445510149002075, 'p_hybrid_mean': 0.7267305807740082, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933960437774658}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(32, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(32, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'short', 'whale_score': 0.6299485273145581, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 104.52642857142824}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6299485273145581, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T19:50:02.740724,91510.76,0.09796548268396936,TP_HIT,BTCUSDT,5m,267,267,long,91510.76,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,long,1.0,True,aligned,0.5,1.0,155.37857142857268
BTCUSDT,long,0.000983490903146253,91510.76,90.0,5m,2025-12-15T19:50:02.741292,91277.69214285714,91976.89571428571,0.01,155.37857142857268,91860.14,91510.76,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445510149002075, 'p_hybrid_mean': 0.7267305808058427, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623062133789, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 155.37857142857268}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:51:50.252762,91173.34,-0.33184950053960693,SL_HIT,BTCUSDT,5m,296,296,long,91173.34,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,149.94642857142753
BTCUSDT,long,0.0005484059265570396,91173.34,50.0,5m,2025-12-15T19:51:50.253260,90948.42035714285,91623.17928571429,0.01,149.94642857142753,91612.44,91173.34,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807433145, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933958947658539}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 149.94642857142753}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:53:34.460129,91627.59,0.24911339213853526,TP_HIT,BTCUSDT,5m,323,323,long,91627.59,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,109.54428571428745
BTCUSDT,long,0.00010913743338660332,91627.59,10.0,5m,2025-12-15T19:53:34.460998,91463.27357142857,91956.22285714286,0.01,109.54428571428745,91840.0,91627.59,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807934868, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 109.54428571428745}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T19:53:47.720895,92325.47,0.07616483201184324,TP_HIT,BTCUSDT,5m,326,326,long,92325.47,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,long,1.0,True,aligned,0.5,1.0,163.02642857142823
BTCUSDT,long,0.0009748122592822977,92325.47,90.0,5m,2025-12-15T19:53:47.721600,92080.93035714286,92814.54928571428,0.01,163.02642857142823,92537.23,92325.47,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445510149002075, 'p_hybrid_mean': 0.7267305809605743, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933960437774658}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 163.02642857142823}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:54:22.249208,92964.17,0.6226125900036007,TP_HIT,BTCUSDT,5m,334,334,long,92964.17,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.6936152080453769,True,aligned,0.5,1.0,253.56499999999818
BTCUSDT,long,0.0006385419329246707,92964.17,59.36152080453769,5m,2025-12-15T19:54:22.249547,92583.8225,93724.86499999999,0.01,253.56499999999818,92964.17,92964.17,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807391212, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.6936152080453769, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 253.56499999999818}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.6936152080453769, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:54:26.221798,92580.12,-0.24523202933972166,SL_HIT,BTCUSDT,5m,335,335,long,92580.12,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,292.7321428571408
BTCUSDT,long,0.00010801454999194213,92580.12,10.0,5m,2025-12-15T19:54:26.222355,92141.02178571429,93458.31642857142,0.01,292.7321428571408,92580.12,92580.12,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305807343553, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933960437774658}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 292.7321428571408}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T19:54:33.750315,92010.5,-0.06152724796640957,SL_HIT,BTCUSDT,5m,337,337,long,92010.5,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,329.7828571428555
BTCUSDT,long,0.0005434162405377647,92010.5,50.0,5m,2025-12-15T19:54:33.750804,91515.82571428572,92999.84857142856,0.01,329.7828571428555,92756.78,92010.5,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808130808, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 329.7828571428555}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:55:55.000205,91385.24,-0.3397764385586399,SL_HIT,BTCUSDT,5m,357,357,long,91385.24,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,239.07214285714457
BTCUSDT,long,0.0005471343074658446,91385.24,50.0,5m,2025-12-15T19:55:55.000787,91026.63178571429,92102.45642857144,0.01,239.07214285714457,91578.01,91385.24,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808859833, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623062133789, 'p_short_mean': 0.09933958947658539}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 239.07214285714457}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:56:23.725118,90936.23,-0.24566877539524395,SL_HIT,BTCUSDT,5m,364,364,long,90936.23,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,284.8485714285728
BTCUSDT,long,0.0005498358575014601,90936.23,50.0,5m,2025-12-15T19:56:23.725669,90508.95714285714,91790.77571428572,0.01,284.8485714285728,91113.99,90936.23,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305809341068, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933960437774658}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 284.8485714285728}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T19:56:48.014009,90480.01,-0.25084611490931674,SL_HIT,BTCUSDT,5m,370,370,long,90480.01,0.9435428739621232,0.7267306089401245,1.0,0.7267306089401245,1.0,1.0,short,0.7324670113215158,True,opposed,0.5,0.3,305.21499999999963
BTCUSDT,long,0.00014871635962065643,90480.01,13.45585770564059,5m,2025-12-15T19:56:48.014843,90022.1875,91395.655,0.01,305.21499999999963,91239.68,90480.01,"{'probs': {'p_used': 0.9435428739621232, 'p_single': 0.7267306089401245}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267306089401245, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305809050559, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624254226685, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428739621232}, 'whale_dir': 'short', 'whale_score': 0.7324670113215158, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 305.21499999999963}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.7324670113215158, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:21:19.876403,90289.58,-0.028320056362560565,TRAILING_STOP_LONG,BTCUSDT,5m,668,668,long,90289.58,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.9264948295822456,True,opposed,0.5,0.3,162.77571428571224
BTCUSDT,long,0.00011075475154497341,90289.58,10.0,5m,2025-12-15T20:21:19.876956,90045.41642857144,90777.90714285713,0.01,162.77571428571224,90767.68,90289.58,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486903190613, 'p_hybrid_mean': 0.7267292071580889, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.9264948295822456, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 162.77571428571224}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.9264948295822456, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:22:28.826179,90798.11,0.0563221138031652,TP_HIT,BTCUSDT,5m,681,681,long,90798.11,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,130.75785714285823
BTCUSDT,long,0.0005506722551824042,90798.11,50.0,5m,2025-12-15T20:22:28.826708,90601.97321428571,91190.38357142858,0.01,130.75785714285823,90806.52,90798.11,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486903190613, 'p_hybrid_mean': 0.7267292071580889, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 130.75785714285823}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:23:10.299164,90467.48,-0.18206876773096087,SL_HIT,BTCUSDT,5m,689,689,long,90467.48,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.8248450940307421,True,opposed,0.5,0.3,87.8142857142853
BTCUSDT,long,0.00012218785750637358,90467.48,11.054027555200701,5m,2025-12-15T20:23:10.300443,90335.75857142857,90730.92285714285,0.01,87.8142857142853,90713.37,90467.48,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486903190613, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.8248450940307421, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 87.8142857142853}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.8248450940307421, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:23:50.978394,90808.05,0.041613518630946505,TP_HIT,BTCUSDT,5m,697,697,long,90808.05,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,87.47142857142899
BTCUSDT,long,0.0005506119776825953,90808.05,50.0,5m,2025-12-15T20:23:50.978914,90676.84285714285,91070.46428571429,0.01,87.47142857142899,91029.81,90808.05,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486903190613, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 87.47142857142899}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:30:06.308164,90638.13,-0.09355998724782562,SL_HIT,BTCUSDT,5m,774,774,long,90638.13,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,74.6792857142843
BTCUSDT,long,0.00011032884283910094,90638.13,10.0,5m,2025-12-15T20:30:06.308728,90526.11107142858,90862.16785714286,0.01,74.6792857142843,90638.13,90638.13,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 74.6792857142843}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:30:16.281487,90480.19,-0.017425337438007858,SL_HIT,BTCUSDT,5m,776,776,long,90480.19,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.8071118659708786,True,opposed,0.5,0.3,80.99000000000004
BTCUSDT,long,0.0001272664379325149,90480.19,11.515091484757155,5m,2025-12-15T20:30:16.282005,90358.705,90723.16,0.01,80.99000000000004,90719.82,90480.19,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292072176935, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.8071118659708786, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 80.99000000000004}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.8071118659708786, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:30:31.153408,90728.09,0.0315493499634697,TP_HIT,BTCUSDT,5m,779,779,long,90728.09,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.6225552282590218,True,aligned,0.5,1.0,91.76500000000149
BTCUSDT,long,0.000575957488203512,90728.09,52.255522825902176,5m,2025-12-15T20:30:31.154009,90590.44249999999,91003.385,0.01,91.76500000000149,90968.51,90728.09,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486903190613, 'p_hybrid_mean': 0.7267292071580889, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.6225552282590218, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 91.76500000000149}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.6225552282590218, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:34:46.067167,91033.42,0.17585709987317932,TP_HIT,BTCUSDT,5m,830,830,long,91033.42,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,47.764285714286544
BTCUSDT,long,0.000988647905351683,91033.42,90.0,5m,2025-12-15T20:34:46.067753,90961.77357142857,91176.71285714286,0.01,47.764285714286544,91033.42,91033.42,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 47.764285714286544}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:34:51.401732,90928.51,-0.10371905175044852,SL_HIT,BTCUSDT,5m,831,831,long,90928.51,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,54.10428571428721
BTCUSDT,long,0.000549882539590718,90928.51,50.0,5m,2025-12-15T20:34:51.402642,90847.35357142857,91090.82285714286,0.01,54.10428571428721,91039.58,90928.51,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 54.10428571428721}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:35:24.260265,91310.84,0.21023659136172018,TP_HIT,BTCUSDT,5m,837,837,long,91310.84,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,86.63285714285614
BTCUSDT,long,0.0009856442017179999,91310.84,90.0,5m,2025-12-15T20:35:24.261231,91180.8907142857,91570.73857142856,0.01,86.63285714285614,91310.84,91310.84,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 86.63285714285614}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:35:29.363353,91161.61,-0.14708768422237312,SL_HIT,BTCUSDT,5m,838,838,long,91161.61,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.7350031881871776,True,opposed,0.5,0.3,96.0414285714287
BTCUSDT,long,0.00014688109509181972,91161.61,13.389917107133384,5m,2025-12-15T20:35:29.363996,91017.54785714285,91449.73428571428,0.01,96.0414285714287,91186.8,91161.61,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.7350031881871776, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 96.0414285714287}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.7350031881871776, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:35:39.465020,90976.25,-0.02722587978621979,SL_HIT,BTCUSDT,5m,840,840,long,90976.25,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,123.04285714285756
BTCUSDT,long,0.0005495939874417773,90976.25,50.0,5m,2025-12-15T20:35:39.465909,90791.68571428572,91345.37857142858,0.01,123.04285714285756,91318.17,90976.25,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292072176935, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 123.04285714285756}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:36:18.902967,91488.33,0.2814360890891863,TP_HIT,BTCUSDT,5m,847,847,long,91488.33,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,159.86928571428558
BTCUSDT,long,0.0009837320235269351,91488.33,90.0,5m,2025-12-15T20:36:18.903486,91248.52607142857,91967.93785714285,0.01,159.86928571428558,91514.16,91488.33,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292071580889, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 159.86928571428558}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:37:43.284148,91244.0,-0.24035524530833777,SL_HIT,BTCUSDT,5m,863,863,long,91244.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,91.72571428571766
BTCUSDT,long,0.0005479812371224409,91244.0,50.0,5m,2025-12-15T20:37:43.284681,91106.41142857142,91519.17714285715,0.01,91.72571428571766,91330.46,91244.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 91.72571428571766}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:39:05.098081,91101.89,-0.0778736136074704,SL_HIT,BTCUSDT,5m,879,879,long,91101.89,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,76.04928571428484
BTCUSDT,long,0.0005488360340273951,91101.89,50.0,5m,2025-12-15T20:39:05.098641,90987.81607142858,91330.03785714286,0.01,76.04928571428484,91269.28,91101.89,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292071580889, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 76.04928571428484}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:39:35.466847,91330.12,0.12526084804607016,TP_HIT,BTCUSDT,5m,885,885,long,91330.12,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,83.91214285714315
BTCUSDT,long,0.0005474645166348189,91330.12,50.0,5m,2025-12-15T20:39:35.467377,91204.25178571428,91581.85642857142,0.01,83.91214285714315,91502.6,91330.12,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292072176935, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 83.91214285714315}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:40:31.381465,91713.17,0.20970628309696898,TP_HIT,BTCUSDT,5m,896,896,long,91713.17,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,106.5328571428576
BTCUSDT,long,0.000545177971713332,91713.17,50.0,5m,2025-12-15T20:40:31.381986,91553.37071428572,92032.76857142858,0.01,106.5328571428576,91945.2,91713.17,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 106.5328571428576}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:41:32.233715,91553.2,-0.08721212013498235,SL_HIT,BTCUSDT,5m,908,908,long,91553.2,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.7920499259737112,True,opposed,0.5,0.3,135.05500000000134
BTCUSDT,long,0.0001300522747941471,91553.2,11.906701924683508,5m,2025-12-15T20:41:32.234258,91350.6175,91958.365,0.01,135.05500000000134,91554.2,91553.2,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.7920499259737112, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 135.05500000000134}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.7920499259737112, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:41:52.582140,91299.0,-0.03305928825267181,SL_HIT,BTCUSDT,5m,912,912,long,91299.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.7660918075674324,True,aligned,0.5,1.0,109.62714285714173
BTCUSDT,long,0.0007295718546396264,91299.0,66.60918075674324,5m,2025-12-15T20:41:52.582671,91134.55928571429,91627.88142857142,0.01,109.62714285714173,91576.62,91299.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.7660918075674324, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 109.62714285714173}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.7660918075674324, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:44:01.938688,91707.92,0.2983365227992347,TP_HIT,BTCUSDT,5m,933,933,long,91707.92,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,91.37285714285827
BTCUSDT,long,0.0005452091814970834,91707.92,50.0,5m,2025-12-15T20:44:01.939177,91570.8607142857,91982.03857142857,0.01,91.37285714285827,91830.0,91707.92,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292070984843, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 91.37285714285827}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:45:04.972634,91530.0,-0.09700361757196012,SL_HIT,BTCUSDT,5m,942,942,long,91530.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,101.18285714285801
BTCUSDT,long,0.000546268982847154,91530.0,50.0,5m,2025-12-15T20:45:04.973344,91378.22571428571,91833.54857142858,0.01,101.18285714285801,91530.0,91530.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292072176935, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574186325073, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 101.18285714285801}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:45:42.717691,91350.85,-0.09786408827706446,SL_HIT,BTCUSDT,5m,947,947,long,91350.85,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,107.23499999999954
BTCUSDT,long,0.00054734028200066,91350.85,50.0,5m,2025-12-15T20:45:42.718356,91189.99750000001,91672.55500000001,0.01,107.23499999999954,91575.98,91350.85,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445486307144165, 'p_hybrid_mean': 0.7267292072772982, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897574782371521, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 107.23499999999954}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:51:26.176162,91166.74,-0.10077081931914184,SL_HIT,BTCUSDT,5m,991,991,long,91166.74,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,96.74071428571395
BTCUSDT,long,0.000109689125661398,91166.74,10.0,5m,2025-12-15T20:51:26.177168,91021.62892857143,91456.96214285714,0.01,96.74071428571395,91166.74,91166.74,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445511341094971, 'p_hybrid_mean': 0.7267307172417643, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624850273132, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 96.74071428571395}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:51:42.687944,90957.44,-0.022957934000930918,SL_HIT,BTCUSDT,5m,993,993,long,90957.44,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.7081166650946754,True,opposed,0.5,0.3,109.86142857142737
BTCUSDT,long,0.00015489625375932347,90957.44,14.08896670753844,5m,2025-12-15T20:51:42.688754,90792.64785714286,91287.02428571429,0.01,109.86142857142737,91269.7,90957.44,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445511341094971, 'p_hybrid_mean': 0.72673072719574, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897624850273132, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.7081166650946754, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 109.86142857142737}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.7081166650946754, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:52:56.703210,91292.06,0.0518313844329441,TP_HIT,BTCUSDT,5m,1002,1002,long,91292.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,108.33000000000071
BTCUSDT,long,0.0005476927566318473,91292.06,50.0,5m,2025-12-15T20:52:56.703901,91129.565,91617.05,0.01,108.33000000000071,91292.06,91292.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445510149002075, 'p_hybrid_mean': 0.7267306359410288, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 108.33000000000071}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:53:38.970562,91100.01,-0.10518439391114785,SL_HIT,BTCUSDT,5m,1007,1007,long,91100.01,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,84.1628571428581
BTCUSDT,long,0.0005488473601704325,91100.01,50.0,5m,2025-12-15T20:53:38.971298,90973.7657142857,91352.49857142857,0.01,84.1628571428581,91225.28,91100.01,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267306061983111, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 84.1628571428581}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:54:28.444942,90908.68,-0.10501096542140981,SL_HIT,BTCUSDT,5m,1014,1014,long,90908.68,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.8161849809925349,True,opposed,0.5,0.3,112.09642857142795
BTCUSDT,long,0.00012407165624002124,90908.68,11.279190494194093,5m,2025-12-15T20:54:28.445465,90740.53535714286,91244.96928571428,0.01,112.09642857142795,90972.96,90908.68,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.8161849809925349, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 112.09642857142795}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.8161849809925349, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:54:53.755515,90660.45,-0.030798307228459967,SL_HIT,BTCUSDT,5m,1018,1018,long,90660.45,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.6118757455691543,True,opposed,0.5,0.3,130.0728571428564
BTCUSDT,long,0.00018300406202706904,90660.45,16.59123061520199,5m,2025-12-15T20:54:53.756087,90465.34071428572,91050.66857142857,0.01,130.0728571428564,90660.45,90660.45,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.6118757455691543, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 130.0728571428564}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6118757455691543, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:55:26.283936,90395.39,-0.04850705668089449,SL_HIT,BTCUSDT,5m,1023,1023,long,90395.39,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,153.55214285714257
BTCUSDT,long,0.00011062511041768833,90395.39,10.0,5m,2025-12-15T20:55:26.284535,90165.06178571428,90856.04642857143,0.01,153.55214285714257,90395.39,90395.39,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 153.55214285714257}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:55:38.757925,89816.17,-0.06407627645613356,SL_HIT,BTCUSDT,5m,1025,1025,long,89816.17,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,212.92500000000084
BTCUSDT,long,0.00011133852623642268,89816.17,10.0,5m,2025-12-15T20:55:38.758588,89496.7825,90454.945,0.01,212.92500000000084,89816.17,89816.17,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 212.92500000000084}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:55:46.021464,89144.95,-0.07473264558041176,SL_HIT,BTCUSDT,5m,1026,1026,long,89144.95,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,267.17857142857144
BTCUSDT,long,0.00011217685354021736,89144.95,10.0,5m,2025-12-15T20:55:46.022005,88744.18214285714,89946.4857142857,0.01,267.17857142857144,89144.95,89144.95,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 267.17857142857144}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:55:59.263027,88719.99,-0.04767067568044986,SL_HIT,BTCUSDT,5m,1028,1028,long,88719.99,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.6678608206297424,True,opposed,0.5,0.3,302.6200000000005
BTCUSDT,long,0.00017059986890921307,88719.99,15.135618663626696,5m,2025-12-15T20:55:59.263555,88266.06,89627.85,0.01,302.6200000000005,88719.99,88719.99,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.6678608206297424, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 302.6200000000005}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6678608206297424, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:56:18.523218,87950.0,-0.13136019306140587,SL_HIT,BTCUSDT,5m,1031,1031,long,87950.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,380.39214285714326
BTCUSDT,long,0.00011370096645821489,87950.0,10.0,5m,2025-12-15T20:56:18.523904,87379.41178571428,89091.17642857143,0.01,380.39214285714326,87950.0,87950.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 380.39214285714326}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T20:56:46.767215,87150.71,-0.09088004548038585,SL_HIT,BTCUSDT,5m,1035,1035,long,87150.71,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,450.97928571428514
BTCUSDT,long,0.0005737187912754812,87150.71,50.0,5m,2025-12-15T20:56:46.767886,86474.24107142858,88503.64785714286,0.01,450.97928571428514,87532.28,87150.71,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 450.97928571428514}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T20:59:42.498849,86495.0,-0.37619314862724945,TRAILING_STOP_LONG,BTCUSDT,5m,1058,1058,long,86495.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,241.75214285714068
BTCUSDT,long,0.0005780680964217584,86495.0,50.0,5m,2025-12-15T20:59:42.499460,86132.37178571429,87220.25642857142,0.01,241.75214285714068,86774.17,86495.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 241.75214285714068}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:01:56.051780,86032.04,-0.267622405919421,SL_HIT,BTCUSDT,5m,1075,1075,long,86032.04,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.822643397283792,True,opposed,0.5,0.3,209.54714285714414
BTCUSDT,long,0.0001291527164835497,86032.04,11.111271670621406,5m,2025-12-15T21:01:56.052525,85717.71928571428,86660.68142857142,0.01,209.54714285714414,86032.04,86032.04,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.822643397283792, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 209.54714285714414}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.822643397283792, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:03:41.007607,85701.23,-0.042725010139922776,SL_HIT,BTCUSDT,5m,1088,1088,long,85701.23,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,178.3378571428579
BTCUSDT,long,0.0005834221982578314,85701.23,50.0,5m,2025-12-15T21:03:41.008361,85433.72321428571,86236.24357142857,0.01,178.3378571428579,86159.1,85701.23,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 178.3378571428579}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:05:07.023539,86280.0,0.33766726568568745,TP_HIT,BTCUSDT,5m,1099,1099,long,86280.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,173.4257142857137
BTCUSDT,long,0.0005795085767269356,86280.0,50.0,5m,2025-12-15T21:05:07.024110,86019.86142857143,86800.27714285714,0.01,173.4257142857137,86797.57,86280.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 173.4257142857137}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:08:09.128320,86806.93,0.30536045433472014,TP_HIT,BTCUSDT,5m,1130,1130,long,86806.93,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,145.3614285714284
BTCUSDT,long,0.00011519817599816052,86806.93,10.0,5m,2025-12-15T21:08:09.129087,86588.88785714285,87243.01428571428,0.01,145.3614285714284,86869.51,86806.93,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 145.3614285714284}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:10:26.089081,86576.0,-0.026602714783254405,SL_HIT,BTCUSDT,5m,1157,1157,long,86576.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.5973913552996292,True,opposed,0.5,0.3,80.9114285714282
BTCUSDT,long,0.0002856901725779064,86576.0,24.733912381104822,5m,2025-12-15T21:10:26.090035,86454.63285714286,86818.73428571428,0.01,80.9114285714282,86576.0,86576.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.5973913552996292, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 80.9114285714282}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.5973913552996292, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:10:45.199714,86453.31,-0.035051327273584,SL_HIT,BTCUSDT,5m,1161,1161,long,86453.31,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,79.35785714285885
BTCUSDT,long,0.0005783468556611656,86453.31,50.0,5m,2025-12-15T21:10:45.200468,86334.27321428571,86691.38357142857,0.01,79.35785714285885,86464.73,86453.31,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 79.35785714285885}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:11:08.842593,86286.67,-0.0963757200273763,SL_HIT,BTCUSDT,5m,1165,1165,long,86286.67,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.9978274881216024,True,opposed,0.5,0.3,90.68428571428583
BTCUSDT,long,0.00011589275608851287,86286.67,10.0,5m,2025-12-15T21:11:08.843117,86150.64357142858,86558.72285714286,0.01,90.68428571428583,86307.48,86286.67,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.9978274881216024, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 90.68428571428583}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.9978274881216024, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:11:25.067895,86149.15,-0.015937571817292762,SL_HIT,BTCUSDT,5m,1168,1168,long,86149.15,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,101.06428571428634
BTCUSDT,long,0.0005803887792276535,86149.15,50.0,5m,2025-12-15T21:11:25.068488,85997.55357142857,86452.34285714285,0.01,101.06428571428634,86149.15,86149.15,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 101.06428571428634}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:11:35.868332,85993.06,-0.0905928845496424,SL_HIT,BTCUSDT,5m,1170,1170,long,85993.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.6481683973279256,True,opposed,0.5,0.3,115.77000000000096
BTCUSDT,long,0.00018196377323325785,85993.06,15.647621669473935,5m,2025-12-15T21:11:35.869149,85819.405,86340.37,0.01,115.77000000000096,85998.9,85993.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.6481683973279256, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 115.77000000000096}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6481683973279256, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:12:02.208872,85710.35,-0.05144297833077285,SL_HIT,BTCUSDT,5m,1175,1175,long,85710.35,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,149.43428571428583
BTCUSDT,long,0.0005833601192854771,85710.35,50.0,5m,2025-12-15T21:12:02.209378,85486.19857142858,86158.65285714286,0.01,149.43428571428583,85745.82,85710.35,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 149.43428571428583}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:12:13.325752,85484.0,-0.13204356300027115,SL_HIT,BTCUSDT,5m,1177,1177,long,85484.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,171.1628571428581
BTCUSDT,long,0.00011698095550044452,85484.0,10.0,5m,2025-12-15T21:12:13.326499,85227.25571428571,85997.48857142858,0.01,171.1628571428581,85484.0,85484.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 171.1628571428581}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:12:18.834948,84820.74,-0.07758878854522422,SL_HIT,BTCUSDT,5m,1178,1178,long,84820.74,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,216.03214285714472
BTCUSDT,long,0.00011789569390693832,84820.74,10.0,5m,2025-12-15T21:12:18.835452,84496.69178571428,85468.83642857143,0.01,216.03214285714472,85430.64,84820.74,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 216.03214285714472}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:12:34.784471,85925.75,0.1302759207241053,TP_HIT,BTCUSDT,5m,1181,1181,long,85925.75,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.7155221647698672,True,aligned,0.5,1.0,325.12071428571653
BTCUSDT,long,0.0007163419170270463,85925.75,61.55221647698672,5m,2025-12-15T21:12:34.784987,85438.06892857142,86901.11214285715,0.01,325.12071428571653,86410.0,85925.75,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.7155221647698672, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 325.12071428571653}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.7155221647698672, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:15:00.112743,85306.78,-0.4433941563822317,SL_HIT,BTCUSDT,5m,1209,1209,long,85306.78,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.5105046000277667,True,opposed,0.5,0.3,318.5457142857153
BTCUSDT,long,0.00030318153140511265,85306.78,25.863440199639037,5m,2025-12-15T21:15:00.113283,84828.96142857142,86262.41714285714,0.01,318.5457142857153,85306.78,85306.78,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.5105046000277667, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 318.5457142857153}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.5105046000277667, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:15:10.381454,84428.34,-0.26632678444750785,SL_HIT,BTCUSDT,5m,1211,1211,long,84428.34,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,369.36714285714487
BTCUSDT,long,0.00011844364108070822,84428.34,10.0,5m,2025-12-15T21:15:10.382246,83874.28928571427,85536.44142857143,0.01,369.36714285714487,85393.1,84428.34,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 369.36714285714487}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:16:34.607622,84535.79,0.012726769234121754,TRAILING_STOP_LONG,BTCUSDT,5m,1227,1227,long,84535.79,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,387.7057142857115
BTCUSDT,long,0.0005914654609603814,84535.79,50.0,5m,2025-12-15T21:16:34.608163,83954.23142857142,85698.90714285713,0.01,387.7057142857115,85660.93,84535.79,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 387.7057142857115}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:20:54.702302,85884.67,0.7978159309802421,TP_HIT,BTCUSDT,5m,1278,1278,long,85884.67,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,245.21428571428467
BTCUSDT,long,0.0005821760740304411,85884.67,50.0,5m,2025-12-15T21:20:54.703295,85516.84857142858,86620.31285714285,0.01,245.21428571428467,86447.33,85884.67,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 245.21428571428467}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:21:50.319836,86638.53,0.43887925516858867,TP_HIT,BTCUSDT,5m,1289,1289,long,86638.53,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,239.05642857142917
BTCUSDT,long,0.0005771104380464442,86638.53,50.0,5m,2025-12-15T21:21:50.320780,86279.94535714286,87355.69928571429,0.01,239.05642857142917,86846.15,86638.53,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 239.05642857142917}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:23:43.384471,86258.43,-0.2193596775014568,SL_HIT,BTCUSDT,5m,1311,1311,long,86258.43,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,163.43571428571366
BTCUSDT,long,0.0005796534900994604,86258.43,50.0,5m,2025-12-15T21:23:43.385006,86013.27642857142,86748.73714285714,0.01,163.43571428571366,86727.22,86258.43,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 163.43571428571366}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:24:59.776782,86989.34,0.42367453244859865,TP_HIT,BTCUSDT,5m,1326,1326,long,86989.34,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,204.30499999999822
BTCUSDT,long,0.0010346095280180307,86989.34,90.0,5m,2025-12-15T21:24:59.777279,86682.88249999999,87602.25499999999,0.01,204.30499999999822,86989.34,86989.34,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 204.30499999999822}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:25:10.320322,86663.66,-0.336951631084905,SL_HIT,BTCUSDT,5m,1328,1328,long,86663.66,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,221.6907142857121
BTCUSDT,long,0.0010384975663386476,86663.66,90.0,5m,2025-12-15T21:25:10.320975,86331.12392857144,87328.73214285714,0.01,221.6907142857121,86797.47,86663.66,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 221.6907142857121}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:27:33.485981,86240.01,-0.4399594939793771,SL_HIT,BTCUSDT,5m,1355,1355,long,86240.01,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,129.99142857142579
BTCUSDT,long,0.0005797772982633003,86240.01,50.0,5m,2025-12-15T21:27:33.486709,86045.02285714286,86629.98428571428,0.01,129.99142857142579,86400.0,86240.01,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 129.99142857142579}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:27:43.840896,86974.0,0.4255507391522828,TP_HIT,BTCUSDT,5m,1357,1357,long,86974.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,166.69214285714094
BTCUSDT,long,0.0005748844482259066,86974.0,50.0,5m,2025-12-15T21:27:43.841428,86723.96178571429,87474.07642857142,0.01,166.69214285714094,87178.69,86974.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 166.69214285714094}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:32:26.059399,86562.61,-0.23650171315565538,SL_HIT,BTCUSDT,5m,1412,1412,long,86562.61,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,103.4228571428591
BTCUSDT,long,0.00011552331890177525,86562.61,10.0,5m,2025-12-15T21:32:26.059935,86407.47571428571,86872.87857142858,0.01,103.4228571428591,86695.27,86562.61,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 103.4228571428591}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:33:32.142730,86889.91,0.03781078227655137,TP_HIT,BTCUSDT,5m,1425,1425,long,86889.91,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,198.1135714285712
BTCUSDT,long,0.0005754408077992024,86889.91,50.0,5m,2025-12-15T21:33:32.143278,86592.73964285715,87484.25071428572,0.01,198.1135714285712,87422.78,86889.91,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 198.1135714285712}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:36:05.451173,87502.01,0.3522273184538868,TP_HIT,BTCUSDT,5m,1455,1455,long,87502.01,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,179.5064285714304
BTCUSDT,long,0.0005714154451994874,87502.01,50.0,5m,2025-12-15T21:36:05.451990,87232.75035714285,88040.52928571429,0.01,179.5064285714304,87502.01,87502.01,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 179.5064285714304}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:37:17.848555,87144.19,-0.20446387460127627,SL_HIT,BTCUSDT,5m,1469,1469,long,87144.19,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.6428256781522694,True,opposed,0.5,0.3,149.71142857142902
BTCUSDT,long,0.00018115415804588917,87144.19,15.786532368040994,5m,2025-12-15T21:37:17.849340,86919.62285714287,87593.32428571429,0.01,149.71142857142902,87549.22,87144.19,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.6428256781522694, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 149.71142857142902}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6428256781522694, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:38:17.781161,87708.94,0.10230681075641591,TP_HIT,BTCUSDT,5m,1479,1479,long,87708.94,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,155.30857142857298
BTCUSDT,long,0.0005700673158289223,87708.94,50.0,5m,2025-12-15T21:38:17.781666,87475.97714285714,88174.86571428573,0.01,155.30857142857298,88095.47,87708.94,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 155.30857142857298}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:38:37.411198,88343.06,0.3614910863134336,TP_HIT,BTCUSDT,5m,1483,1483,long,88343.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,217.67857142857247
BTCUSDT,long,0.0005659754144807753,88343.06,50.0,5m,2025-12-15T21:38:37.411936,88016.54214285714,88996.09571428571,0.01,217.67857142857247,88830.73,88343.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 217.67857142857247}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:39:15.613492,89236.58,0.5057103523468646,TP_HIT,BTCUSDT,5m,1490,1490,long,89236.58,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.6892292187993214,True,aligned,0.5,1.0,303.55785714285906
BTCUSDT,long,0.0006603000908364277,89236.58,58.92292187993215,5m,2025-12-15T21:39:15.614142,88781.24321428571,90147.25357142858,0.01,303.55785714285906,90076.49,89236.58,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.6892292187993214, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 303.55785714285906}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.6892292187993214, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:39:43.217463,90665.59,0.9435754328061602,TP_HIT,BTCUSDT,5m,1495,1495,long,90665.59,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,460.6192857142877
BTCUSDT,long,0.0009926588466473334,90665.59,90.0,5m,2025-12-15T21:39:43.218197,89974.66107142856,92047.44785714286,0.01,460.6192857142877,92004.6,90665.59,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 460.6192857142877}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:43:50.913460,92177.06,1.5003740669420462,TP_HIT,BTCUSDT,5m,1541,1541,long,92177.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,246.2550000000005
BTCUSDT,long,0.0005424343106625445,92177.06,50.0,5m,2025-12-15T21:43:50.913976,91807.67749999999,92915.825,0.01,246.2550000000005,92265.38,92177.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 246.2550000000005}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:44:55.178207,91687.91,-0.2653317430605805,SL_HIT,BTCUSDT,5m,1553,1553,long,91687.91,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,175.51428571428656
BTCUSDT,long,0.0005453281681303457,91687.91,50.0,5m,2025-12-15T21:44:55.178900,91424.63857142857,92214.45285714287,0.01,175.51428571428656,91888.0,91687.91,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 175.51428571428656}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:45:11.941350,91231.09,-0.2491168137653083,SL_HIT,BTCUSDT,5m,1556,1556,long,91231.09,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.6818698060460071,True,opposed,0.5,0.3,198.57785714285689
BTCUSDT,long,0.000161911745686737,91231.09,14.771385042803816,5m,2025-12-15T21:45:11.941844,90933.22321428571,91826.82357142857,0.01,198.57785714285689,91260.64,91231.09,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.6818698060460071, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 198.57785714285689}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.6818698060460071, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T21:45:33.275205,90739.06,-0.07966543623024502,SL_HIT,BTCUSDT,5m,1560,1560,long,90739.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,240.8407142857125
BTCUSDT,long,0.0005510306145997104,90739.06,50.0,5m,2025-12-15T21:45:33.275931,90377.79892857143,91461.58214285714,0.01,240.8407142857125,91429.4,90739.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 240.8407142857125}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:46:40.269294,91477.72,0.40702427378022404,TP_HIT,BTCUSDT,5m,1573,1573,long,91477.72,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,190.08214285714243
BTCUSDT,long,0.0005465811784552566,91477.72,50.0,5m,2025-12-15T21:46:40.270202,91192.59678571428,92047.96642857142,0.01,190.08214285714243,91981.91,91477.72,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 190.08214285714243}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:49:25.674098,91183.2,-0.1609790886786444,SL_HIT,BTCUSDT,5m,1606,1606,long,91183.2,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,162.88928571428758
BTCUSDT,long,0.0005483466252555295,91183.2,50.0,5m,2025-12-15T21:49:25.674986,90938.86607142857,91671.86785714286,0.01,162.88928571428758,91660.12,91183.2,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 162.88928571428758}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:50:10.681226,91726.28,0.29779608524377393,TP_HIT,BTCUSDT,5m,1615,1615,long,91726.28,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,232.82785714285794
BTCUSDT,long,0.000981180093643828,91726.28,90.0,5m,2025-12-15T21:50:10.681756,91377.03821428571,92424.76357142857,0.01,232.82785714285794,92319.88,91726.28,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 232.82785714285794}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:51:00.184196,92580.59,0.8382319658008565,TP_HIT,BTCUSDT,5m,1625,1625,long,92580.59,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.541428565881264,True,aligned,0.5,1.0,233.14785714285765
BTCUSDT,long,0.0005400700081950224,92580.59,50.0,5m,2025-12-15T21:51:00.184723,92230.86821428571,93280.03357142858,0.01,233.14785714285765,92580.59,92580.59,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.541428565881264, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 233.14785714285765}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.541428565881264, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:51:05.000739,92221.76,-0.19379332104062083,SL_HIT,BTCUSDT,5m,1626,1626,long,92221.76,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,246.93642857142862
BTCUSDT,long,0.0005421713920879411,92221.76,50.0,5m,2025-12-15T21:51:05.001426,91851.35535714285,92962.56928571429,0.01,246.93642857142862,92909.58,92221.76,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 246.93642857142862}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:53:20.251694,93001.48,0.4227418778388101,TP_HIT,BTCUSDT,5m,1653,1653,long,93001.48,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,131.12714285714173
BTCUSDT,long,0.0005376258528358904,93001.48,50.0,5m,2025-12-15T21:53:20.252216,92804.78928571429,93394.86142857143,0.01,131.12714285714173,93362.21,93001.48,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 131.12714285714173}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:54:06.755366,93514.57,0.27585044883157295,TP_HIT,BTCUSDT,5m,1662,1662,long,93514.57,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,230.989285714283
BTCUSDT,long,0.000534676040321845,93514.57,50.0,5m,2025-12-15T21:54:06.755953,93168.08607142858,94207.53785714286,0.01,230.989285714283,93956.37,93514.57,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 230.989285714283}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T21:56:26.385904,92877.63,-0.3405565571225972,SL_HIT,BTCUSDT,5m,1688,1688,long,92877.63,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,0.7799083537218533,True,aligned,0.5,1.0,206.35500000000215
BTCUSDT,long,0.0007320474841163079,92877.63,67.99083537218533,5m,2025-12-15T21:56:26.386426,92568.0975,93496.695,0.01,206.35500000000215,93358.79,92877.63,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 0.7799083537218533, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 206.35500000000215}, 'entry_whale_dir': 'long', 'entry_whale_score': 0.7799083537218533, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:03:29.917460,91754.55,-0.8221478884613443,SL_HIT,BTCUSDT,5m,1769,1769,long,91754.55,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,1.0,True,opposed,0.5,0.3,233.07428571428423
BTCUSDT,long,0.00010898642083689582,91754.55,10.0,5m,2025-12-15T22:03:29.918092,91404.93857142857,92453.77285714286,0.01,233.07428571428423,92345.16,91754.55,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 233.07428571428423}, 'entry_whale_dir': 'short', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T22:03:55.503531,92540.06,0.08560992343158946,TP_HIT,BTCUSDT,5m,1774,1774,long,92540.06,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,320.65499999999884
BTCUSDT,long,0.0005403065439983505,92540.06,50.0,5m,2025-12-15T22:03:55.504065,92059.0775,93502.025,0.01,320.65499999999884,92621.35,92540.06,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 320.65499999999884}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:04:10.144677,93502.76,0.5201531099072105,TP_HIT,BTCUSDT,5m,1777,1777,long,93502.76,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,452.67000000000036
BTCUSDT,long,0.0009625384320206163,93502.76,90.0,5m,2025-12-15T22:04:10.145546,92823.75499999999,94860.76999999999,0.01,452.67000000000036,93502.76,93502.76,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 452.67000000000036}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:04:20.445316,92686.36,-0.7858163759016256,SL_HIT,BTCUSDT,5m,1779,1779,long,92686.36,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,529.5107142857129
BTCUSDT,long,0.000539453701709723,92686.36,50.0,5m,2025-12-15T22:04:20.446081,91892.09392857143,94274.89214285713,0.01,529.5107142857129,92920.04,92686.36,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 529.5107142857129}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:05:34.811282,91890.79,-0.4291731814692081,SL_HIT,BTCUSDT,5m,1794,1794,long,91890.79,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,367.01642857142934
BTCUSDT,long,0.000544124171747789,91890.79,50.0,5m,2025-12-15T22:05:34.811827,91340.26535714285,92991.83928571428,0.01,367.01642857142934,92953.72,91890.79,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 367.01642857142934}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:07:19.942768,93006.69,0.6071881632533624,TP_HIT,BTCUSDT,5m,1815,1815,long,93006.69,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,249.00000000000105
BTCUSDT,long,0.0009676723255069071,93006.69,90.0,5m,2025-12-15T22:07:19.943291,92633.19,93753.69,0.01,249.00000000000105,93421.05,93006.69,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 249.00000000000105}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:08:23.938792,92529.68,-0.4615893759900587,SL_HIT,BTCUSDT,5m,1827,1827,long,92529.68,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,long,1.0,True,aligned,0.5,1.0,241.35500000000215
BTCUSDT,long,0.0009726608802710655,92529.68,90.0,5m,2025-12-15T22:08:23.939295,92167.64749999999,93253.745,0.01,241.35500000000215,93220.84,92529.68,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'long', 'whale_score': 1.0, 'whale_on': True, 'whale_alignment': 'aligned', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 241.35500000000215}, 'entry_whale_dir': 'long', 'entry_whale_score': 1.0, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'aligned', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:11:08.232208,93276.2,0.7261108003399598,TP_HIT,BTCUSDT,5m,1858,1858,long,93276.2,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.9001274668301188,True,opposed,0.5,0.3,168.59785714285889
BTCUSDT,long,0.00010720848405059383,93276.2,10.0,5m,2025-12-15T22:11:08.232792,93023.30321428571,93781.99357142857,0.01,168.59785714285889,93781.01,93276.2,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.9001274668301188, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 168.59785714285889}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.9001274668301188, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T22:12:46.636485,93828.0,0.05915764149911799,TP_HIT,BTCUSDT,5m,1877,1877,long,93828.0,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,258.78428571428645
BTCUSDT,long,0.0005328899688792258,93828.0,50.0,5m,2025-12-15T22:12:46.637076,93439.82357142857,94604.35285714286,0.01,258.78428571428645,94033.69,93828.0,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 258.78428571428645}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:13:43.972076,93429.95,-0.21211685211237738,SL_HIT,BTCUSDT,5m,1888,1888,long,93429.95,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,196.1907142857131
BTCUSDT,long,0.000535160299240233,93429.95,50.0,5m,2025-12-15T22:13:43.972644,93135.66392857143,94018.52214285714,0.01,196.1907142857131,93429.95,93429.95,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 196.1907142857131}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:13:59.784712,92952.99,-0.25525005632561715,SL_HIT,BTCUSDT,5m,1891,1891,long,92952.99,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,short,0.5779730180187796,True,opposed,0.5,0.3,180.08785714285582
BTCUSDT,long,0.0002688063155984101,92952.99,24.986350765755862,5m,2025-12-15T22:13:59.785351,92682.85821428572,93493.25357142858,0.01,180.08785714285582,93095.0,92952.99,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'short', 'whale_score': 0.5779730180187796, 'whale_on': True, 'whale_alignment': 'opposed', 'whale_thr': 0.5, 'model_confidence_factor': 0.3, 'atr': 180.08785714285582}, 'entry_whale_dir': 'short', 'entry_whale_score': 0.5779730180187796, 'entry_whale_thr': 0.5, 'entry_whale_on': True, 'entry_whale_alignment': 'opposed', 'entry_model_confidence_factor': 0.3}",2025-12-15T22:14:21.054048,92676.71,-0.07426580887352843,SL_HIT,BTCUSDT,5m,1895,1895,long,92676.71,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,176.62928571428554
BTCUSDT,long,0.0005395098725451086,92676.71,50.0,5m,2025-12-15T22:14:21.054584,92411.76607142857,93206.59785714286,0.01,176.62928571428554,93054.86,92676.71,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 176.62928571428554}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:14:52.068649,93231.01,0.29905032235174744,TP_HIT,BTCUSDT,5m,1901,1901,long,93231.01,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,214.49999999999895
BTCUSDT,long,0.0005363022453580628,93231.01,50.0,5m,2025-12-15T22:14:52.069320,92909.26,93874.51,0.01,214.49999999999895,93691.82,93231.01,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 214.49999999999895}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:16:11.447270,93912.2,0.36532372651546,TP_HIT,BTCUSDT,5m,1916,1916,long,93912.2,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,224.95000000000022
BTCUSDT,long,0.0005324121892576257,93912.2,50.0,5m,2025-12-15T22:16:11.448018,93574.775,94587.05,0.01,224.95000000000022,94012.75,93912.2,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 224.95000000000022}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:17:25.912825,93545.34,-0.19532073575105288,SL_HIT,BTCUSDT,5m,1931,1931,long,93545.34,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,172.3092857142869
BTCUSDT,long,0.0005345001685813532,93545.34,50.0,5m,2025-12-15T22:17:25.913613,93286.87607142856,94062.26785714286,0.01,172.3092857142869,93607.7,93545.34,"{'probs': {'p_used': 0.9435428678049995, 'p_single': 0.7267305791378021}, 'extra': {'mtf_debug': {'per_interval': {'1m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.49900912892628313, 'best_side': 'short', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.49900912892628313, 'best_side': 'short', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '5m': {'p_last': 0.7267305791378021, 'weight': 0.3, 'auc': 0.5136681486331411, 'best_side': 'long', 'debug': {'mode': 'lstm+sgd', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5445509552955627, 'p_hybrid_mean': 0.7267305808067324, 'best_auc': 0.5136681486331411, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': True, 'p_long_mean': 0.9897623658180237, 'p_short_mean': 0.09933959692716599}}, '15m': {'p_last': 1.0, 'weight': 0.3, 'auc': 0.5126647075075981, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5126647075075981, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}, '1h': {'p_last': 1.0, 'weight': 0.5520898081663274, 'auc': 0.5520898081663274, 'best_side': 'long', 'debug': {'mode': 'sgd_only', 'p_sgd_mean': 1.0, 'p_lstm_mean': 0.5, 'p_hybrid_mean': 1.0, 'best_auc': 0.5520898081663274, 'best_side': 'long', 'use_lstm_hybrid': True, 'lstm_used': False, 'error': 'in user code:\n\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2440, in predict_function  *\n        return step_function(self, iterator)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2425, in step_function  **\n        outputs = model.distribute_strategy.run(run_step, args=(data,))\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2413, in run_step  **\n        outputs = model.predict_step(data)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/training.py"", line 2381, in predict_step\n        return self(x, training=False)\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/utils/traceback_utils.py"", line 70, in error_handler\n        raise e.with_traceback(filtered_tb) from None\n    File ""/home/kasm920/binance1/venv/lib/python3.11/site-packages/keras/src/engine/input_spec.py"", line 298, in assert_input_compatibility\n        raise ValueError(\n\n    ValueError: Input 0 of layer ""sequential"" is incompatible with the layer: expected shape=(None, 50, 22), found shape=(None, 32, 22)\n'}}}, 'intervals_used': ['1m', '5m', '15m', '1h'], 'weights_raw': [0.3, 0.3, 0.3, 0.5520898081663274], 'weights_norm': [0.20659879183287883, 0.20659879183287883, 0.20659879183287883, 0.3802036245013636], 'n_used': 4, 'ensemble_p': 0.9435428678049995}, 'whale_dir': 'none', 'whale_score': 0.0, 'whale_on': False, 'whale_alignment': 'no_whale', 'whale_thr': 0.5, 'model_confidence_factor': 1.0, 'atr': 172.3092857142869}, 'entry_whale_dir': 'none', 'entry_whale_score': 0.0, 'entry_whale_thr': 0.5, 'entry_whale_on': False, 'entry_whale_alignment': 'no_whale', 'entry_model_confidence_factor': 1.0}",2025-12-15T22:18:59.972079,93130.11,-0.22194050500003312,SL_HIT,BTCUSDT,5m,1950,1950,long,93130.11,0.9435428678049995,0.7267305791378021,1.0,0.7267305791378021,1.0,1.0,none,0.0,False,no_whale,0.5,1.0,130.1435714285721
